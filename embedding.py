from openai import OpenAI

client = OpenAI()

# tokens of "用简单语言讲解Transformer神经网络架构"
tokens = [11883, 99337, 24946, 73981, 78244, 10414, 110, 50338, 47458, 55228, 252, 54493, 72456, 20119, 114, 78935]
tokens_as_strings = [str(token) for token in tokens]

response = client.embeddings.create(
    model="text-embedding-3-small", input=tokens_as_strings, encoding_format="float", dimensions=6
)
print(f"length of tokens: {len(response.data)}")
# length of tokens: 16
for i in range(len(response.data)):
    embedding_dim = response.data[i].embedding
    print(f"embedding_dim[{i:02}]: {embedding_dim}")
# embedding_dim[00]: [-0.3633453, -0.33893964, 0.5140128, 0.32748395, -0.3561232, -0.5047984]
# embedding_dim[01]: [-0.48211774, 0.33215308, 0.7394951, 0.078132406, -0.028996263, -0.32161838]
# embedding_dim[02]: [-0.19790855, -0.034714203, 0.86141354, 0.06291166, -0.40263462, -0.22698326]
# embedding_dim[03]: [-0.45271215, 0.15769157, 0.7281278, 0.23677413, -0.4258146, -0.05133263]
# embedding_dim[04]: [-0.77712417, -0.029864147, 0.3315905, 0.48228958, -0.030618956, -0.22736134]
# embedding_dim[05]: [-0.1465702, -0.55493087, 0.63132393, 0.44898948, -0.053916577, -0.25980854]
# embedding_dim[06]: [0.09254342, -0.8287471, 0.2785865, -0.4033236, 0.2528741, 0.019709306]
# embedding_dim[07]: [-0.3082398, 0.20658346, 0.86035013, -0.23405814, -0.25878537, 0.018872492]
# embedding_dim[08]: [-0.32759163, 0.22439198, 0.68951416, 0.0753833, -0.583626, -0.14352815]
# embedding_dim[09]: [-0.11340556, 0.13960978, 0.6583482, 0.06108476, -0.68639284, 0.24363792]
# embedding_dim[10]: [0.5715848, -0.07974044, 0.7571991, 0.1993511, -0.15035093, -0.17673564]
# embedding_dim[11]: [-0.39767742, -0.13064946, 0.72660667, -0.26339492, -0.41193008, 0.24033913]
# embedding_dim[12]: [-0.09375604, -0.10740708, 0.7527027, 0.24173702, -0.58054805, -0.13281316]
# embedding_dim[13]: [-0.26784053, -0.10819349, 0.8627285, 0.10672506, 0.3211737, -0.24023418]
# embedding_dim[14]: [0.119970955, -0.5766705, 0.5151158, 0.28266576, 0.17140155, -0.5276697]
# embedding_dim[15]: [-0.62758964, 0.3103241, 0.59859884, 0.18160084, 0.013691519, -0.3440106]